<div class="pull-right card-panel">
  <button (click)="navigate()" class="btn slam-btn">Add new Slampage</button>
</div>

<div *ngIf="nocontent" class="jumbotron">No Slampage available. Create one!</div>
<p-growl [(value)]="msgs" [sticky]="false" life="2000"></p-growl>
<p-confirmDialog header="Delete Slampage" icon="fa fa-question-circle" width="425" #cd>
  <p-footer>
    <button type="button" class="btn slam-btn" icon="fa-close" label="No" (click)="cd.reject()">cancel</button>
    <button type="button" class="btn slam-btn" icon="fa-check" label="Yes" (click)="cd.accept()">delete</button>
  </p-footer>
</p-confirmDialog>

<div class="card-panel" style="display:inline-block;" *ngFor="let item of slamPages">
  <div class="card" style="width: 18rem;">
    <div style="padding:5px;">
      <i class="fa fa-edit pull-right" (click)="editSlam(item)"></i>
      <i class="fa fa-trash pull-right" (click)="confirm(item.spid,item.slamname)" aria-hidden="true"></i>
    </div>
    <div class="card-body">
      <h5 class="card-title">{{item.slamname}}</h5>
      <p class="card-text" [innerHTML]="item.slamdescription"></p>
      <p>Copy link send to your friends.</p>
      <div class="input-group">
        <input type="url" class="slam-input form-control" [(ngModel)]="item.link" readonly>
        <span class="input-group-btn">
          <button class="btn slam-btn" [class.btn-success]="isCopied" type="button" ngxClipboard [cbContent]="item.link" (cbOnSuccess)="onCopy()">copy</button>
        </span>
      </div>
      <br>
      <button type="button" class="btn slam-btn" (click)="listSlamWrites(item.spid)">view slamwrites</button>
    </div>
  </div>
</div>

<p-sidebar [(visible)]="visibleSidebar" [fullScreen]="true" [baseZIndex]="10000">
  <p-dialog header="Slamwrite" [(visible)]="slamwritedisplay">
    <ol>
      <li *ngFor="let item of singleField">
        <div *ngIf="item.key != 'link dedicated to me'">
          {{item.key}} => {{item.value}}
        </div>
        <div *ngIf="item.key == 'link dedicated to me'">
          {{item.key}} =>
          <a href="{{item.value}}" class="accent-link">{{item.value}}</a>
        </div>
      </li>
    </ol>
  </p-dialog>
  <h1 style="font-weight:normal">SlamWrites From your Folks!</h1>
  <p-dataTable [value]="fields" [loading]="loading">
    <p-column field="username" header="created by"></p-column>
    <p-column field="content.nickname" header="nickname"></p-column>
    <p-column header="action">
      <ng-template let-content="rowData" pTemplate="body">
        <button type="button" (click)="viewFullContent(content)" class="btn slam-btn">view</button>
      </ng-template>
    </p-column>
  </p-dataTable>
</p-sidebar>

<div class="text-center">
  Â© 2018 Copyright:
  <a href="http://www.slambook.ml/">
    <strong> slambook.ml</strong>
  </a>
  <a class="accent-link" (click)="logout()">logout</a>
</div>